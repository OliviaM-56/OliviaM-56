<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Aulin</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400&display=swap" rel="stylesheet">

    <style>
        /* --- CSS STYLING --- */
        :root {
            --primary-pink: #d48ba0;
            --glass-bg: rgba(255, 255, 255, 0.4);
            --glass-border: rgba(255, 255, 255, 0.7);
            --text-main: #5d4048; 
            --error-red: #d45d5d;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            /* 1. NEW BACKGROUND: Circular Pink Center fading to White */
            background: radial-gradient(circle at center, #fcecef 0%, #fff0f5 40%, #ffffff 100%);
            color: var(--text-main);
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
            font-family: 'Poppins', sans-serif; 
        }

        .container {
            width: 100%;
            max-width: 800px;
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        /* SLIDE TRANSITIONS */
        .slide {
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.8s ease-in-out;
            height: 100%;
            width: 100%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .slide.active {
            display: flex;
            opacity: 1;
        }

        /* TYPOGRAPHY */
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 2rem;
            font-weight: 600;
            color: #4a3b40;
            line-height: 1.3;
        }

        p {
            font-size: 1.15rem;
            line-height: 1.9;
            color: #6e5d62;
            max-width: 650px;
            font-weight: 300;
        }

        /* INPUT */
        input[type="text"] {
            padding: 18px 25px;
            font-size: 1.1rem;
            font-family: 'Poppins', sans-serif;
            border: 1px solid var(--glass-border);
            background: var(--glass-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 50px;
            outline: none;
            color: var(--text-main);
            text-align: center;
            margin-bottom: 30px;
            width: 80%;
            max-width: 400px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: all 0.3s ease;
        }
        
        input[type="text"]:focus {
            background: rgba(255, 255, 255, 0.8);
            box-shadow: 0 8px 25px rgba(212, 139, 160, 0.2);
            border-color: var(--primary-pink);
        }

        .btn-group {
            display: flex;
            flex-direction: column;
            gap: 15px;
            width: 100%;
            align-items: center;
        }

        /* BUTTONS */
        button {
            background-color: var(--primary-pink);
            color: white;
            border: none;
            padding: 16px 30px;
            font-size: 1rem;
            font-family: 'Poppins', sans-serif;
            letter-spacing: 0.5px;
            border-radius: 50px;
            cursor: pointer;
            width: 100%;
            max-width: 380px;
            box-shadow: 0 5px 15px rgba(212, 139, 160, 0.3);
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }

        button:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(212, 139, 160, 0.5);
            background-color: #d997ab;
        }

        /* SHAKE ANIMATION FOR WRONG ANSWER */
        .shake {
            animation: shake 0.5s;
            background-color: var(--error-red) !important;
        }

        @keyframes shake {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }

        /* LETTER AREA */
        #letter-content {
            cursor: pointer;
            min-height: 280px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            padding: 0 20px;
        }

        /* PROGRESS DOTS */
        .progress-container {
            display: flex;
            gap: 8px;
            margin-top: 30px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        
        .progress-dot {
            width: 8px;
            height: 8px;
            background-color: #e0e0e0;
            border-radius: 50%;
            transition: background-color 0.3s;
        }
        
        .progress-dot.active {
            background-color: var(--primary-pink);
            transform: scale(1.2);
        }

        .cursor {
            display: inline-block;
            width: 2px;
            background-color: var(--primary-pink);
            animation: blink 1s step-end infinite;
        }

        @keyframes blink { 50% { opacity: 0; } }

        .hint {
            font-size: 0.75rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            color: #998a8e;
            margin-top: 3rem;
            opacity: 0;
            transition: opacity 0.5s;
        }

        /* BRIDGE SLIDE CLICK AREA */
        #slide-bridge {
            cursor: pointer;
        }

    </style>
</head>
<body>

    <div class="container">
        
        <div id="slide-name" class="slide active">
            <h1>State your name:</h1>
            <input type="text" id="nameInput" placeholder="Who are you?" autocomplete="off">
            <button onclick="submitName()">Enter</button>
        </div>

        <div id="slide-bridge" class="slide" onclick="changeSlide('slide-bridge', 'slide-quiz-1')">
            <h1>If you're truly Aulin...</h1>
            <p>These questions will be easy.</p>
            <p class="hint" style="opacity: 0.6; margin-top: 50px;">(Tap to continue)</p>
        </div>

        <div id="slide-quiz-1" class="slide">
            <h1>What's Lutfi's favorite nickname for you?</h1>
            <div class="btn-group">
                <button onclick="checkAnswer(this, true, 'slide-quiz-2')">Aulin Olivia Musyaffa</button>
                <button onclick="checkAnswer(this, false)">Olin Olip</button>
                <button onclick="checkAnswer(this, false)">3owllin3olifia3musyava3</button>
                <button onclick="checkAnswer(this, false)">Milo</button>
            </div>
        </div>

        <div id="slide-quiz-2" class="slide">
            <h1>Who is Milo?</h1>
            <div class="btn-group">
                <button onclick="checkAnswer(this, false)">Kucingnya aulin</button>
                <button onclick="checkAnswer(this, false)">Majikannya lutfi</button>
                <button onclick="checkAnswer(this, true, 'slide-quiz-3')">Preman bintaro sektor sembilan</button>
                <button onclick="checkAnswer(this, false)">Kucing penyakitan</button>
            </div>
        </div>

        <div id="slide-quiz-3" class="slide">
            <h1>Aulin's real number</h1>
            <div class="btn-group">
                <button onclick="checkAnswer(this, false)">67</button>
                <button onclick="checkAnswer(this, false)">3</button>
                <button onclick="checkAnswer(this, true, 'slide-quiz-4')">56</button>
                <button onclick="checkAnswer(this, false)">65</button>
            </div>
        </div>

        <div id="slide-quiz-4" class="slide">
            <h1>Does Aulin look more gorgeous with glasses or without glasses?</h1>
            <div class="btn-group">
                <button onclick="checkAnswer(this, true, 'slide-quiz-5')">Lutfi likes both version of her</button>
            </div>
        </div>

        <div id="slide-quiz-5" class="slide">
            <h1>Siklus krebs (per 1 molekul Glukosa, 2 putaran) menghasilkan apa?</h1>
            <div class="btn-group">
                <button onclick="checkAnswer(this, false)">Gatau ih bukan anak eb</button>
                <button onclick="checkAnswer(this, false)">4 CO3</button>
                <button onclick="checkAnswer(this, false)">100 ATP</button>
                <button onclick="checkAnswer(this, false)">1 FADH2</button>
                <button onclick="checkAnswer(this, true, 'slide-ask')">6 NADH</button>
            </div>
        </div>

        <div id="slide-ask" class="slide">
            <h1>So... did you uhm.. say yes?</h1>
            <div class="btn-group">
                <button onclick="handleFinalAnswer('yes')">Yes</button>
                <button onclick="handleFinalAnswer('no')">No</button>
            </div>
        </div>

        <div id="slide-rejection" class="slide">
            <h1>Are you sure? :(</h1>
            <div class="btn-group">
                <button onclick="endPresentation()">Yes</button>
                <button onclick="goBackToAsk()">No</button>
            </div>
        </div>

        <div id="slide-end" class="slide">
            <h1>Okay...</h1>
            <p>I understand. Have a nice day.</p>
        </div>

        <div id="slide-letter" class="slide">
            <div id="letter-content" onclick="handleClick()">
                <p><span id="letter-text"></span><span id="cursor" class="cursor">|</span></p>
            </div>
            
            <div id="progress-container" class="progress-container"></div>
            <p class="hint" id="hint-text">(Tap to continue)</p>
        </div>

    </div>

    <script>
        /* --- JAVASCRIPT LOGIC --- */

        let userName = "";
        let letterIndex = 0;
        let charIndex = 0;
        let isTyping = false;
        let typingTimeout; 
        let currentText = "";

        // ALLOWED NAMES (Case Insensitive)
        const allowedNames = ["aulin", "aulin olivia", "aulin olivia musyaffa", "olin", "olin olip"];

        const letterParagraphs = [
            "Hi Aulin",
            "If you’re reading this, it means you said yes. I just want you to know that there’s nothing in this world that can even slightly describe how happy I am right now.",
            "Without realizing it, I’ve been admiring you since the first time we met. Remember that gathering where you were the coordinator of my group? I was looking at everyone there, and honestly, the only reason I even wanted to participate was because I wanted to see you HAHAHA. That’s why I texted you. That’s why I noticed you didn’t invite me to the group chat, HAHAHA. But I guess I wasn’t bold enough to talk to you any further.",
            "Time passed, and I didn’t see you at TPB at all. heck I even forgot that I once had a crush on you wkwkwk. Then MBC happened. I met someone again, someone I hadn’t seen in a long time. But now without glasses, and I fell in love again without even noticing at first that it was you hahah. Scared at first, but I really hit you with a “Aulin kita udah wawancara belum?” and you said “belum”, “ayo join join” and then you joined :’)",
            "Throughout the wawancara I’m really trying my best not to stare at you and I hope you didn’t noticed it hahah sorry. And after that, I started asking your friends about you. Rafa even told me the text u sent her about to whom she send your picture to HAHAHA. Sorry about that. but you know the rest, it's all history.",
            "I’m not really good with people, especially communicating. I feel like I can be either too quiet or too loud. So if the ride home today felt awkward, I’m sorry :( And sorry in advance if something like that happens again. I have a feeling it will heheh.",
            "And, maybe you're wondering, 'now what?' 'pacaran ngapain ya?' well to be frank, I don't know it either. But you know what? let's keep it this way. I want us to unfold our own stories naturally. It may not be as romantic as a pnp, it wont be as fun as good news, maybe it will be more cringe than the how to lose a guy in 10 days, and maybe it will be scarier than your favorite horror movie. But as long as I'm unfolding it with you, it's enough to make me happy.",
            "As I said before and as you already know it by now, I’m not the fun guy who can make you laugh. I’m not the smart one who gets straight A’s. I’m not the rich gentleman who can buy you everything you want. Sometimes I’m weird and do not know how to talk to you.",
            "I’m not perfect, not even a good man to begin with. I’m just an ordinary boy who happens to be in love with you. And I’m sorry for my imperfections. I can’t promise a perfect future for you, or even a good one. But I can promise that I’ll be present. And I’ll try to make a present where both of us feel safe enough to stay, without fear.",
            "With all that said, thank you, Aulin. You’ve made me very happy. I hope that someday, I can make you the happiest girl alive too. Makasih :( I really mean it"
        ];

        // 1. Submit Name (Password Check)
        function submitName() {
            const input = document.getElementById('nameInput').value.trim();
            if (!input) return;

            // Check if name is in allowed list (case insensitive)
            if (allowedNames.includes(input.toLowerCase())) {
                userName = input; // Keep format she typed
                changeSlide('slide-name', 'slide-bridge');
            } else {
                // Shake effect for wrong name
                const btn = document.querySelector('#slide-name button');
                btn.classList.add('shake');
                setTimeout(() => btn.classList.remove('shake'), 500);
                document.getElementById('nameInput').value = "";
                document.getElementById('nameInput').placeholder = "Try again :(";
            }
        }

        // 2. Quiz Logic
        function checkAnswer(btn, isCorrect, nextSlideId) {
            if (isCorrect) {
                changeSlide(btn.closest('.slide').id, nextSlideId);
            } else {
                btn.classList.add('shake');
                setTimeout(() => btn.classList.remove('shake'), 500);
            }
        }

        // 3. Final Ask Logic
        function handleFinalAnswer(answer) {
            if (answer === 'yes') {
                startLetter();
            } else {
                changeSlide('slide-ask', 'slide-rejection');
            }
        }

        function endPresentation() {
            changeSlide('slide-rejection', 'slide-end');
        }

        function goBackToAsk() {
            changeSlide('slide-rejection', 'slide-ask');
        }

        // 4. Start Letter & Dots
        function startLetter() {
            changeSlide('slide-ask', 'slide-letter');
            
            const dotsContainer = document.getElementById('progress-container');
            dotsContainer.innerHTML = '';
            for(let i=0; i<letterParagraphs.length; i++) {
                const dot = document.createElement('div');
                dot.classList.add('progress-dot');
                if(i === 0) dot.classList.add('active');
                dotsContainer.appendChild(dot);
            }
            dotsContainer.style.opacity = 1;

            letterIndex = 0;
            setTimeout(() => {
                prepareTyping(letterParagraphs[letterIndex]);
            }, 1000);
        }

        // 5. SMART TYPING LOGIC
        function prepareTyping(text) {
            const textElement = document.getElementById('letter-text');
            const hintElement = document.getElementById('hint-text');
            const cursor = document.getElementById('cursor');
            
            currentText = text;
            textElement.innerHTML = "";
            charIndex = 0;
            isTyping = true;
            hintElement.style.opacity = 0;
            cursor.style.display = "inline-block";

            typeNextChar(); 
        }

        function typeNextChar() {
            if (!isTyping) return;

            const textElement = document.getElementById('letter-text');
            const currentChar = currentText.charAt(charIndex);
            
            textElement.innerHTML += currentChar;
            charIndex++;

            if (charIndex < currentText.length) {
                let nextDelay = 35; 

                // Check for Sentence Endings (. ? !)
                if (currentChar === '.' || currentChar === '?' || currentChar === '!') {
                    if (charIndex < currentText.length && currentText.charAt(charIndex) === '.') {
                        nextDelay = 35; 
                    } else {
                        nextDelay = 700; // Pause at end of sentence
                    }
                } 
                else if (currentChar === ',') {
                    nextDelay = 200; 
                }

                typingTimeout = setTimeout(typeNextChar, nextDelay);
            } else {
                finishTyping();
            }
        }

        function finishTyping() {
            clearTimeout(typingTimeout);
            isTyping = false;
            document.getElementById('letter-text').innerHTML = currentText;
            document.getElementById('hint-text').style.opacity = 0.6;
        }

        function handleClick() {
            if (isTyping) {
                finishTyping(); 
            } else {
                nextLetterSlide(); 
            }
        }

        function nextLetterSlide() {
            if (letterIndex < letterParagraphs.length - 1) {
                letterIndex++;
                updateDots(letterIndex);
                prepareTyping(letterParagraphs[letterIndex]);
            } else {
                document.getElementById('hint-text').innerText = "❤️";
                document.getElementById('cursor').style.display = "none";
            }
        }

        function updateDots(index) {
            const dots = document.querySelectorAll('.progress-dot');
            dots.forEach((dot, i) => {
                if(i === index) dot.classList.add('active');
                else dot.classList.remove('active');
            });
        }

        // Helper: Slides
        function changeSlide(currentId, nextId) {
            const current = document.getElementById(currentId);
            const next = document.getElementById(nextId);

            current.style.opacity = 0;
            current.style.pointerEvents = 'none';
            
            setTimeout(() => {
                current.classList.remove('active');
                next.classList.add('active');
                void next.offsetWidth;
                next.style.opacity = 1;
                next.style.pointerEvents = 'all';
            }, 800);
        }

        // Enter key for name input
        document.getElementById("nameInput").addEventListener("keypress", function(event) {
            if (event.key === "Enter") submitName();
        });

    </script>
</body>
</html>
